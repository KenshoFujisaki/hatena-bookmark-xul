<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE bindings [
    <!ENTITY % browser SYSTEM "chrome://hatenabookmark/locale/browser.dtd">
    %browser;
]>
<bindings xmlns="http://www.mozilla.org/xbl"
          xmlns:xbl="http://www.mozilla.org/xbl"
          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

    <binding id="links-popup"
             extends="chrome://global/content/bindings/popup.xml#popup">
        <content>
            <xul:menuitem label="&hBookmark.toolbar.top;"
                          oncommand="openUILink('http://b.hatena.ne.jp/', event);"
                          onclick="checkForMiddleClick(this, event);"/>
            <xul:menuitem label="&hBookmark.toolbar.home;"
                          default="true"
                          oncommand="openUILink('http://b.hatena.ne.jp/my', event);"
                          onclick="checkForMiddleClick(this, event);"/>
            <xul:menuitem label="&hBookmark.toolbar.favorite;"
                          oncommand="openUILink('http://b.hatena.ne.jp/my/favorite', event);"
                          onclick="checkForMiddleClick(this, event);"/>
        </content>

        <handlers>
            <handler event="command" action="event.stopPropagation();"/>
        </handlers>
    </binding>

    <binding id="link"
             extends="chrome://global/content/bindings/text.xml#text-link">
        <implementation>
            <method name="open">
                <parameter name="event"/>
                <body><![CDATA[
                    let href = this.href;
                    if (!href || this.disabled || event.getPreventDefault())
                        return;
                    openUILink(href, event);
                ]]></body>
            </method>
        </implementation>
    </binding>

</bindings>
